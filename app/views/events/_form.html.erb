<%= render 'shared/errors', object: event %>

<%= form_with model: event do |f| %>
  <div class="mb-3 row">
    <div class="col-sm-10">
      <%= f.text_field :name, required: true, placeholder: 'Название', class: 'form-control' %>
    </div>
  </div>
  <div class="mb-3 row">
    <div class="col-sm-10">
      <%= f.text_area :description, class: 'form-control', placeholder: 'Описание' %>
    </div>
  </div>
  <div class="mb-3 row">
    <div class="col-sm-10">
      <%= f.text_field :city, placeholder: 'Город', class: 'form-control', value: current_user.city %>
    </div>
  </div>
  <div class="mb-3 row">
    <div class="col-sm-10">
      <%= f.collection_select :event_category_id, current_user.event_categories, :id, :name, {}, { class: 'form-control', selected: current_user.event_categories.first } %>
    </div>
  </div>
  <div class="mb-3 row">
    <div class="col-sm-10" data-controller="events">
      <%= f.label :datetime, 'Дата:' %>
      <%= f.datetime_local_field :datetime, id: :event_datetime_local, data: { "events-target": "datetimeLocal" }  %>
      <%= f.date_field :datetime, id: :event_datetime, disabled: true, hidden: true, data: { "events-target": "datetime" } %>
      <%= f.check_box :whole_day_event, data: { action: 'click->events#changeDatetimeType', "events-target": 'wholeDayEvent' }  %>
      <%= f.label :whole_day_event, 'Событие на весь день' %>
    </div>
  </div>
  <div class="mb-3 row">
    <div class="col-sm-10" data-controller="events">
      <div id="event_remind_at_container" hidden="true" data-events-target="remindContainer">
        <%= f.label :remind_at, 'Напомнить:' %>
        <%= f.datetime_local_field :remind_at, disabled: true, data: { "events-target": "remindField" }  %>
      </div>
      <%= f.check_box :reminder, data: { action: 'click->events#changeRemindAt' } %>
      <%= f.label :reminder, 'Напомнить в определенный момент' %>
    </div>
  </div>

  <%= f.submit "Подтвердить", class: 'btn btn-primary' %>
<% end %>
